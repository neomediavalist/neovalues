<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NeoValues</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="main-container">
    <div class="main-results-wrapper">
        <div class="top-section">
            <h1>NeoValues 0.4</h1>
            <div id="results-container"></div>
        </div>
        
        <div class="bottom-section">
            <div id="label"></div>
        </div>
    </div>

    <script>
    const resultsMapping = {
        "economics": {
            "welfare_capitalism": "Welfare Capitalism",
            "laissez_faire": "Laissez-Faire",
            "agorism": "Agorism",
            "state_capitalism": "State Capitalism",
            "socialism": "Socialism",
            "dirigisme": "Dirigisme",
            "keynesianism": "Keynesianism",
            "third_way": "Third Way",
            "neo_corporatism": "Neocorporatism",
            "corporatism": "Corporatism",
            "social_corporatism": "Social-Corporatism",
            "yellow_socialism": "Yellow Socialism",
            "mutualism": "Mutualism",
            "guild_socialism": "Guild Socialism",
            "syndicalism": "Syndicalism",
            "market_socialism": "Market Socialism",
            "mutual_distributism": "Mutual-Distributism",
            "social_distributism": "Social-Distributism",
            "distributism": "Distributism"
        },
        "taxation": {
            "Voluntaryism": "Voluntaryism",
            "georgism": "Georgism",
            "social_georgism": "Social-Georgism",
            "flat_taxation": "Flat Taxation",
            "Progressive_Taxation": "Progressive Taxation",
            "Confiscatory_Taxation": "Confiscatory Taxation"
        },
        "culture": {
            "reactionaryism": "Reactionaryism",
            "conservatism": "Conservatism",
            "traditionalism": "Traditionalism",
            "social_progressivism": "Social Progressivism",
            "progressive_conservatism": "Progressive Conservatism",
            "progressivism": "Progressivism"
        },
        "authority": {
            "theocracy": "Theocracy",
            "absolute": "Absolute Monarchy",
            "totalitarianism": "Totalitarianism",
            "religious_authoritarianism": "Religious Authoritarianism",
            "autocracy": "Autocracy",
            "anarchism": "Anarchism",
            "partocracy": "Partocracy",
            "representative_democracy": "Representative Democracy",
            "direct_democracy": "Direct Democracy",
            "constitutional": "Constitutional Monarchy",
            "minarchism": "Minarchism",
            "meritocracy": "Meritocracy",
            "technocracy": "Technocracy",
            "stratocracy": "Stratocracy"
        },
        "nation": {
            "Internationalism": "Internationalism",
            "Cosmopolitanism": "Cosmopolitanism",
            "civic_nationalism": "Civic Nationalism",
            "cultural_nationalism": "Cultural Nationalism",
            "ethnic_nationalism": "Ethnic Nationalism",
            "pan_nationalism": "Pan-Nationalism",
            "racial_nationalism": "Racial Nationalism",
            "Tribalism": "Tribalism"
        },
        "foreign": {
            "Isolationism": "Isolationism",
            "Non_Interventionism": "Non-Interventionism",
            "Realpolitik": "Realpolitik",
            "Imperialism": "Imperialism",
            "Interventionism": "Interventionism",
            "Globalism": "Globalism"
        }
    };

    const labelMapping = {
      "corporatism|reactionaryism|totalitarianism|Imperialism": "Fascism",
      "corporatism|traditionalism|totalitarianism|Imperialism": "Evolianism",
      "corporatism|progressivism|totalitarianism|Imperialism": "Futurism",
      "laissez_faire|representative_democracy|civic_nationalism|Globalism": "Neoliberalism",
      "welfare_capitalism|representative_democracy|civic_nationalism|Globalism": "Ordoliberalism",
      "state_capitalism|totalitarianism|pan_nationalism|Imperialism": "Nazism",
      "state_capitalism|totalitarianism|racial_nationalism": "Neonazism",
      "yellow_socialism|minarchism|Imperialism": "Neo-Libertarian Falangalism",
      "syndicalism|anarchism": "Anarcho-Syndicalism",
      "laissez_faire|anarchism": "Anarcho-Capitalism",
      "mutualism|anarchism": "Anarcho-Mutualism",
      "market_socialism|anarchism": "Market Anarchism",
      "Tribalism|anarchism": "National-Anarchism",
      "laissez_faire|Voluntaryism|conservatism|minarchism|Non_Interventionism": "Paleolibertarianism"
    };

    const results = JSON.parse(localStorage.getItem('quizResults') || '{}');
    const container = document.getElementById('results-container');
    const categories = ["economics", "taxation", "culture", "authority", "nation", "foreign"];

    categories.forEach(category => {
        const resultValue = results[category];
        if (resultValue) {
            const wrapper = document.createElement('div');
            wrapper.className = 'result-item';

            const img = document.createElement('img');
            img.src = `icons/${resultValue}.svg`; 
            img.className = 'result-icon';

            const name = document.createElement('p');
            name.innerText = (resultsMapping[category][resultValue] || resultValue).replace(/_/g, ' ');
            name.className = 'result-text';

            wrapper.appendChild(img);
            wrapper.appendChild(name);
            container.appendChild(wrapper);
        }
    });

    const labelColors = {
        "No label available": "#5C5C5C",
        "Fascism": "#694F2C",
        "Evolianism": "#47345C",
        "Futurism": "#1B2A6B",
        "Neoliberalism": "#54ABC7",
        "Ordoliberalism": "#518699",
        "Nazism": "#404040",
        "Neonazism": "#404040",
        "Neo-Libertarian Falangalism": "#E8DA02",
        "Anarcho-Syndicalism": "#941313",
        "Anarcho-Capitalism": "#D4CB20",
        "Anarcho-Mutualism": "#DB8104",
        "Market Anarchism": "#C74A0A",
        "National-Anarchism": "#5E2C2C",
        "Paleolibertarianism": "#660896"
    };

    const combinationKey = [
        results["economics"],
        results["taxation"],
        results["culture"], 
        results["authority"],
        results["nation"],
        results["foreign"]
    ].join("|");

    const userResults = Object.values(results);

    const matchedKey = Object.keys(labelMapping).find(key => {
        const requiredParts = key.split('|');
        return requiredParts.every(part => userResults.includes(part));
    });

    const finalLabel = matchedKey ? labelMapping[matchedKey] : "No label available";

    const labelDiv = document.getElementById('label');
    labelDiv.innerText = finalLabel;
    labelDiv.className = "label-bubble"; 
    labelDiv.style.backgroundColor = labelColors[finalLabel] || "#7a7a7a";

    </script>
    </div>
</body>
